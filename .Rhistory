group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)") &
price < 7500) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
distinct(com_year)
geom_boxplot() +
geom_jitter(alpha = .025) +
scale_x_log10(labels = comma,
breaks = c(0, 100, 300, 1000, 3000, 9000)) +
scale_y_continuous(labels = comma) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
facet_wrap(~ com_year) +
labs(x = "Price in MMK",
y = "Standard deviation",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
subtitle = "Points are observations at individual markets",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)") &
price < 7500) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_boxplot()
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)")) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_boxplot() +
geom_jitter(alpha = .025) +
scale_x_log10(labels = comma,
breaks = c(0, 100, 300, 1000, 3000, 9000)) +
scale_y_continuous(labels = comma) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
labs(x = "Price in MMK",
y = "Standard deviation",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
subtitle = "Prices above MMK 6,000 not shown (only palm oil)",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)")) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_boxplot() +
geom_jitter(alpha = .025) +
scale_x_log10(labels = comma,
breaks = c(0, 100, 300, 1000, 3000, 9000)) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
labs(x = "Price in MMK",
y = "Standard deviation",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
subtitle = "Prices above MMK 6,000 not shown (only palm oil)",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)")) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_boxplot() +
geom_jitter(alpha = .025) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
labs(x = "Price in MMK",
y = "Standard deviation",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
subtitle = "Prices above MMK 6,000 not shown (only palm oil)",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)")) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_boxplot() +
geom_jitter(alpha = .025) +
scale_y_log10(labels = comma,
breaks = c(0, 100, 300, 1000, 3000, 9000)) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
labs(x = "Price in MMK",
y = "Standard deviation",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
subtitle = "Prices above MMK 6,000 not shown (only palm oil)",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)")) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_boxplot() +
geom_jitter(alpha = .03,
aes(size =price)) +
scale_y_log10(labels = comma,
breaks = c(0, 100, 300, 1000, 3000, 9000)) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
labs(x = "Price in MMK",
y = "Standard deviation",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
subtitle = "Prices above MMK 6,000 not shown (only palm oil)",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)")) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_boxplot() +
geom_jitter(alpha = .03,
aes(size = price)) +
scale_y_log10(labels = comma,
breaks = c(0, 100, 300, 600, 1000, 3000, 6000, 9000)) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
labs(x = "",
y = "Price in MMK",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)")) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_boxplot() +
geom_jitter(alpha = .04,
aes(size = price)) +
scale_y_log10(labels = comma,
breaks = c(0, 100, 300, 600, 1000, 3000, 6000, 9000)) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
labs(x = "",
y = "Price in MMK",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)")) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_boxplot() +
geom_jitter(alpha = .04,
aes(size = price)) +
scale_y_log10(labels = comma,
breaks = c(0, 100, 300, 600, 1000, 1500,
3000, 6000, 9000)) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
labs(x = "",
y = "Price in MMK",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)")) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_boxplot(outlier.alpha = .4) +
geom_jitter(alpha = .04,
aes(size = price)) +
scale_y_log10(labels = comma,
breaks = c(0, 100, 300, 600, 1000, 1500,
3000, 6000, 9000)) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
labs(x = "",
y = "Price in MMK",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)")) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_boxplot(outlier.alpha = .4) +
geom_jitter(alpha = .04,
aes(size = price)) +
scale_y_log10(labels = comma,
breaks = c(0, 100, 300, 600, 1000, 2000,
3000, 6000, 9000)) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
labs(x = "",
y = "Price in MMK",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)")) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_boxplot(outlier.alpha = .1) +
geom_jitter(alpha = .1,
aes(size = price)) +
scale_y_log10(labels = comma,
breaks = c(0, 100, 300, 600, 1000, 2000,
3000, 6000, 9000)) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
labs(x = "",
y = "Price in MMK",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)")) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_jitter(alpha = .1,
aes(size = price)) +
geom_boxplot(outlier.alpha = .1) +
scale_y_log10(labels = comma,
breaks = c(0, 100, 300, 600, 1000, 2000,
3000, 6000, 9000)) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
labs(x = "",
y = "Price in MMK",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
prices %>%
filter(pricetype == "Retail" & unit %in% c("KG", "L")) %>%
select(commodity, admin1, admin2, date, price, market, year) %>%
rbind(mau %>% select(-filename)) %>%
filter(year >= 2021) %>%
group_by(commodity) %>%
mutate(count = sum(!is.na(commodity))) %>%
ungroup() %>%
filter(price > 20) %>%
group_by(date, commodity, admin2, admin1) %>%
group_by(commodity, year) %>%
mutate(count = ifelse(!is.na(commodity), 1, 0)) %>%
ungroup() %>%
filter(!is.na(count)) %>%
filter(commodity %in% c("Salt", "Tomatoes (local)", "Rice (low quality)",
"Pulses", "Oil (palm)", "Onions (local)")) %>%
mutate(com_year = paste0(commodity, " - ", year),
com_year = fct_reorder(com_year, price)) %>%
ggplot(aes(y = price, x = com_year, colour = commodity)) +
geom_jitter(alpha = .1,
aes(size = price)) +
geom_boxplot(alpha = .5,
outlier.alpha = .1,
size = 1.5) +
scale_y_log10(labels = comma,
breaks = c(0, 100, 300, 600, 1000, 2000,
3000, 6000, 9000)) +
scale_colour_manual(values = c("#F564E3", "#00BA38", "#619CFF",
"#F8766D", "#B79F00", "#00BFC4")) +
labs(x = "",
y = "Price in MMK",
colour = "",
title = "Price volatility amongst commonly surveyed commodities",
caption = "Data sources: WFP and Mercy Corps MAU") +
theme(legend.position = "none",
axis.text.x = element_text(angle = 60, hjust = 1),
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
